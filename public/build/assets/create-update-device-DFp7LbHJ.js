import{q as S,j as e,r as f,v as C}from"./app-B5nIqswW.js";import{I as d}from"./input-with-error-ENx_D9Ry.js";import{L as D}from"./loading-button-B8zFhnye.js";import{I as N}from"./input-error-z1cXsWw1.js";import{L as y}from"./label-DFN9MQSq.js";import{S as _,a as I,b as E,c as v,d as A,f as F}from"./select-CFjt6-zc.js";import{c as U,B as h}from"./button-pjdEQW0R.js";import{D as k,a as B,b as L,c as T,d as w,e as W,f as O,g as P}from"./dialog-CM4W6zHU.js";import{P as R}from"./pen-DYG7j38E.js";/* empty css            */import"./input-zuTfp8r1.js";import"./createLucideIcon-DvAOrpbu.js";import"./index-CwFfr1ts.js";import"./index-ei5H1LFL.js";import"./index-f5Gzio5T.js";import"./index-DsZk854g.js";import"./index-CWPeFHLU.js";import"./index-E7wIswsJ.js";import"./index-Pir4hE0f.js";import"./index-o6jJBPyi.js";import"./check-Du-Xtxv6.js";function x({label:a,name:o,value:i,onChange:t,placeholder:r="Select an option",options:p,className:m}){const{errors:u}=S().props,l=u[o];return e.jsxs("div",{children:[a&&e.jsx(y,{htmlFor:o,children:a}),e.jsxs(_,{value:i,onValueChange:t,children:[e.jsx(I,{className:U("my-1",l&&"border-red-500 focus:border-red-500 focus:ring-red-500",m),"aria-invalid":!!l,id:o,children:e.jsx(E,{placeholder:r})}),e.jsx(v,{children:e.jsx(A,{children:p.map(n=>e.jsx(F,{value:n,children:n.charAt(0).toUpperCase()+n.slice(1)},n))})})]}),e.jsx(N,{message:l})]})}function ie({device:a}){const[o,i]=f.useState(!1),{data:t,setData:r,post:p,put:m,processing:u,reset:l,clearErrors:n}=C({brand:(a==null?void 0:a.brand)||"",type:(a==null?void 0:a.type)||"",status:(a==null?void 0:a.status)||"",service_status:(a==null?void 0:a.service_status)||"",serial_number:(a==null?void 0:a.serial_number)||""}),g=s=>{s.preventDefault(),a?b():j()},j=()=>{p(route("device.store"),{onSuccess:()=>{l(),c()}})},b=()=>{m(route("device.update",a==null?void 0:a.id),{onSuccess:()=>{l(),c()}})},c=()=>{n(),i(!1),l()};return e.jsxs(k,{open:o,onOpenChange:i,children:[e.jsx(B,{asChild:!0,children:a?e.jsx("span",{className:"cursor-pointer text-sky-400 hover:text-sky-500 hover:underline",children:"Edit"}):e.jsxs(h,{children:["Add Device ",e.jsx(R,{className:"ml-2 h-4 w-4"})]})}),e.jsx(L,{className:"sm:max-w-[425px]",children:e.jsxs("form",{onSubmit:g,children:[e.jsxs(T,{children:[e.jsxs(w,{children:[a?"Update":"Add"," Device"]}),e.jsx(W,{children:"Enter Device details and submit when done."})]}),e.jsxs("div",{className:"mb-2 grid gap-4",children:[e.jsx("div",{className:"grid gap-3",children:e.jsx(d,{label:"Brand",name:"brand",type:"text",autoFocus:!0,tabIndex:1,autoComplete:"brand",value:t.brand,onChange:s=>r("brand",s.target.value),placeholder:"Apple"})}),e.jsx("div",{className:"grid gap-3",children:e.jsx(d,{label:"Type",name:"type",type:"text",tabIndex:2,autoComplete:"type",value:t.type,onChange:s=>r("type",s.target.value),placeholder:"Notebook"})})]}),e.jsxs("div",{className:"mb-2 grid gap-4",children:[e.jsx("div",{className:"grid gap-3",children:e.jsx(x,{label:"Status",name:"status",value:t.status,onChange:s=>r("status",s),placeholder:"Select Status",options:["Functional","Non-Functional","In-Repair"]})}),e.jsx("div",{className:"grid gap-3",children:e.jsx(x,{label:"Service Status",name:"service_status",value:t.service_status,onChange:s=>r("service_status",s),placeholder:"Select Service Status",options:["Assigned","Available","Decommissioned"]})})]}),e.jsx("div",{className:"mb-2 grid gap-4",children:e.jsx("div",{className:"grid gap-3",children:e.jsx(d,{label:"Serial Number",name:"serial_number",type:"text",tabIndex:2,autoComplete:"serial_number",value:t.serial_number,onChange:s=>r("serial_number",s.target.value),placeholder:"SN-1234-567890"})})}),e.jsxs(O,{children:[e.jsx(P,{asChild:!0,children:e.jsx(h,{type:"button",variant:"outline",onClick:c,children:"Cancel"})}),e.jsx(D,{processing:u,text:a?"Update":"Create",tabIndex:3,fullWidth:!1})]})]})})]})}export{ie as default};
