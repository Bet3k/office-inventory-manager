import{r as i,v as g,j as e}from"./app-B5nIqswW.js";import{L as j}from"./loading-button-B8zFhnye.js";import{P as w}from"./password-input-with-error-B-GCTU8d.js";import{B as c}from"./button-pjdEQW0R.js";import{D,a as b,b as S,c as A,d as T,e as y}from"./dialog-CM4W6zHU.js";import{t as n}from"./index-MbVkPV-0.js";/* empty css            */import"./createLucideIcon-DvAOrpbu.js";import"./input-error-z1cXsWw1.js";import"./text-link-PhsRlYew.js";import"./label-DFN9MQSq.js";import"./index-CwFfr1ts.js";import"./index-DsZk854g.js";import"./index-ei5H1LFL.js";function Y({recentlyConfirmedPassword:s}){const[l,t]=i.useState(!1),u=i.useRef(null),{delete:o,post:d,processing:p,setData:m,data:f,reset:h,clearErrors:x}=g({password:""}),v=r=>{r.preventDefault(),s?o(route("two-factor.disable"),{preserveScroll:!0,onSuccess:()=>{t(!1),n.success("Success",{description:"Two-Factor Authentication de-activated."})}}):d(route("password.confirm"),{preserveScroll:!0,onSuccess:()=>{o(route("two-factor.disable"),{preserveScroll:!0,onSuccess:()=>{x(),t(!1),n.success("Success",{description:"Two-Factor Authentication de-activated."})}})},onError:()=>{var a;h(),(a=u.current)==null||a.focus()}})};return e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs(D,{open:l,onOpenChange:t,children:[e.jsx(b,{asChild:!0,children:e.jsx(c,{variant:"destructive",children:"De-Activate Two Factor Authentication"})}),e.jsxs(S,{children:[e.jsxs(A,{children:[e.jsx(T,{children:"You are about to de-activate Two-Factor Authentication"}),e.jsxs(y,{children:["This is recommended for your account security."," ",!s&&e.jsx(e.Fragment,{children:"Please enter your password to confirm you would like to de-activate Two-Factor Authentication."})]})]}),e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[!s&&e.jsx("div",{className:"grid gap-2",children:e.jsx(w,{label:"Password",name:"password",forgotPassword:!1,required:!0,autoFocus:!0,tabIndex:1,autoComplete:"current-password",value:f.password,onChange:r=>m("password",r.target.value)})}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(c,{type:"button",variant:"secondary",onClick:()=>t(!1),children:"Cancel"}),e.jsx(j,{destructive:!0,processing:p,text:"De-Activate",tabIndex:2})]})]})]})]})})}export{Y as default};
