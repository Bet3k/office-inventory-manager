import{r as i,v as g,j as e}from"./app-B5nIqswW.js";import{L as j}from"./loading-button-B8zFhnye.js";import{P as v}from"./password-input-with-error-B-GCTU8d.js";import{B as c}from"./button-pjdEQW0R.js";import{D as w,a as D,b,c as S,d as A,e as T}from"./dialog-CM4W6zHU.js";import{t as n}from"./index-MbVkPV-0.js";/* empty css            */import"./createLucideIcon-DvAOrpbu.js";import"./input-error-z1cXsWw1.js";import"./text-link-PhsRlYew.js";import"./label-DFN9MQSq.js";import"./index-CwFfr1ts.js";import"./index-DsZk854g.js";import"./index-ei5H1LFL.js";function W({recentlyConfirmedPassword:s}){const[l,t]=i.useState(!1),u=i.useRef(null),{post:o,processing:p,setData:d,data:m,reset:f,clearErrors:h}=g({password:""}),x=r=>{r.preventDefault(),s?o(route("two-factor.enable"),{preserveScroll:!0,onSuccess:()=>{t(!1),n.success("Success",{description:"Two-Factor Authentication activated."})}}):o(route("password.confirm"),{preserveScroll:!0,onSuccess:()=>{o(route("two-factor.enable"),{preserveScroll:!0,onSuccess:()=>{h(),t(!1),n.success("Success",{description:"Two-Factor Authentication activated."})}})},onError:()=>{var a;f(),(a=u.current)==null||a.focus()}})};return e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs(w,{open:l,onOpenChange:t,children:[e.jsx(D,{asChild:!0,children:e.jsx(c,{children:"Activate Two Factor Authentication"})}),e.jsxs(b,{children:[e.jsxs(S,{children:[e.jsx(A,{children:"You are about to activate Two-Factor Authentication"}),e.jsxs(T,{children:["This is recommended for your account security."," ",!s&&e.jsx(e.Fragment,{children:"Please enter your password to confirm you would like to activate Two-Factor Authentication."})]})]}),e.jsxs("form",{onSubmit:x,className:"space-y-6",children:[!s&&e.jsx("div",{className:"grid gap-2",children:e.jsx(v,{label:"Password",name:"password",forgotPassword:!1,required:!0,autoFocus:!0,tabIndex:1,autoComplete:"current-password",value:m.password,onChange:r=>d("password",r.target.value)})}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(c,{type:"button",variant:"secondary",onClick:()=>t(!1),children:"Cancel"}),e.jsx(j,{processing:p,text:"Activate",tabIndex:2})]})]})]})]})})}export{W as default};
